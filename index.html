<!DOCTYPE html>

<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Our Paths To UIUC</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
  <style>
    body { margin:0; padding:0; }
    #map { position:absolute; top:0; bottom:0; width:100%; }
    .heading {
        position:absolute; top:0;
        margin-top:70px;
        margin-left: auto;
        margin-right: auto;
        width:100%;
        font: 20px Arial, sans-serif;
        color: white;
        text-align: center;
        z-index: 10;
    }
    a:link {color:white;} 
    a:visited {color: white;}
    a:hover {color: #E84A27;}
    a:active {color: #E84A27;}
    #ISElogo {
position:absolute; top:0;
position: absolute;
        top: 20px;
        right: 10px;
        width:20%;
        z-index: 10;
    }
  </style>
</head>
<body>

<div id="map"></div>
<h1 class="heading">Where did we come from?<br>
Several incoming students worked with<br>
Professor <a href="http://publish.illinois.edu/r-sowers/" target="_blank">Richard Sowers</a> in the summer of 2020 to build some coding experience.<br>
Part of the project was to visualize everyone's trajectory:<br>
From birthplace to high school to UIUC.<br>
Code available at <a href="https://gitlab.engr.illinois.edu/r-sowers/ise_freshmen" target="_blank">https://gitlab.engr.illinois.edu/r-sowers/ise_freshmen</a></h1>
<a href="https://ise.illinois.edu/" target="_blank"><img id="ISElogo" src="logo.png" alt="University of Illinois, Department of Industrial and Enterprise Systems Engineering"></a>
<script>
    mapboxgl.accessToken = "pk.eyJ1IjoicmljaGFyZHNvd2VycyIsImEiOiJjams5dnZtcWYya2RxM3FxcW03YzF0a2pzIn0._YTRBqzmI1sZnBONyEBr3A";
    var map = new mapboxgl.Map({
      container: "map",
      //style: "mapbox://styles/richardsowers/cjohy2xza0fjt2rpoysqmsrqi",
      style: "mapbox://styles/richardsowers/ckdyrg2df046419p4m8fxd4il",
      center: [-80, 42],
      zoom: 5
    });


    var data = {
 'Timmy Pirtle': {"anchor":"top","color":"white",'path': [[-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.2361935, 38.011439300000006],
   [-89.18454705315334, 38.12169461388549],
   [-89.13274473637028, 38.23192577278402],
   [-89.08078549159795, 38.34213261694965],
   [-89.02866825276647, 38.45231498539504],
   [-88.97639194571153, 38.56247271587848],
   [-88.92395548809604, 38.672605644890716],
   [-88.87135778933109, 38.78271360764157],
   [-88.81859775049584, 38.892796438046474],
   [-88.76567426425683, 39.002853968712856],
   [-88.71258621478617, 39.112886030926276],
   [-88.65933247767903, 39.22289245463651],
   [-88.60591191987017, 39.33287306844334],
   [-88.55232339954956, 39.442827699582324],
   [-88.49856576607719, 39.55275617391026],
   [-88.44463785989682, 39.66265831589054],
   [-88.39053851244891, 39.772533948578406],
   [-88.33626654608264, 39.88238289360582],
   [-88.2818207739668, 39.99220497116641],
   [-88.22719999999998, 40.102]]},
 'Priya Shah': {"anchor":"top","color":"green",'path': [[-71.0588801, 42.3600825],
   [-71.96003146064828, 42.404932505324396],
   [-72.86236795545398, 42.44268918182631],
   [-73.76568828009071, 42.47333470487998],
   [-74.66978926678318, 42.49685456642607],
   [-75.57446626354321, 42.51323760707672],
   [-76.4795135200894, 42.52247604090735],
   [-77.38472457873375, 42.52456547280387],
   [-78.28989266847786, 42.51950490827329],
   [-79.19481110053266, 42.507296755665394],
   [-80.0992736634645, 42.4879468207937],
   [-81.00307501617313, 42.46146429398431],
   [-81.90601107692581, 42.427861729621526],
   [-82.80787940670493, 42.387155018298934],
   [-83.70847958517477, 42.33936335172277],
   [-84.60761357763501, 42.28450918055197],
   [-85.50508609140323, 42.22261816539442],
   [-86.4007049201559, 42.153719121212646],
   [-87.29428127485573, 42.077843955422814],
   [-88.18563010000001, 41.99502759999999],
   [-88.1856301, 41.9950276],
   [-88.18787863342847, 41.89540533056478],
   [-88.19012017609191, 41.795781860998964],
   [-88.19235477398372, 41.69615719202085],
   [-88.1945824727298, 41.59653132436043],
   [-88.1968033175921, 41.496904258759415],
   [-88.19901735347248, 41.39727599597127],
   [-88.20122462491658, 41.29764653676121],
   [-88.20342517611718, 41.19801588190623],
   [-88.20561905091807, 41.09838403219513],
   [-88.20780629281751, 40.998750988428526],
   [-88.20998694497175, 40.899116751418845],
   [-88.21216105019855, 40.79948132199038],
   [-88.21432865098062, 40.69984470097928],
   [-88.2164897894691, 40.60020688923356],
   [-88.21864450748673, 40.50056788761315],
   [-88.22079284653137, 40.40092769698988],
   [-88.22293484777919, 40.301286318247485],
   [-88.22507055208786, 40.201643752281655],
   [-88.2272, 40.102000000000004]]},
 'Dhilan Desai': {"anchor":"left","color":"red",'path': [[-81.6943605, 41.49932],
   [-82.02979176999087, 41.52751670353536],
   [-82.36550991676619, 41.55473412806726],
   [-82.7015052900981, 41.58097052308695],
   [-83.03776816903208, 41.60622419756348],
   [-83.37428876414937, 41.63049352044225],
   [-83.71105721987004, 41.653776921127566],
   [-84.04806361679546, 41.676072889949076],
   [-84.38529797408907, 41.69737997861162],
   [-84.72275025189411, 41.71769680062819],
   [-85.06041035378695, 41.73702203173577],
   [-85.39826812926488, 41.755354410293606],
   [-85.7363133762666, 41.77269273766385],
   [-86.07453584372455, 41.789035878574076],
   [-86.41292523414702, 41.80438276146156],
   [-86.75147120622893, 41.818732378799005],
   [-87.09016337748963, 41.83208378740155],
   [-87.42899132693626, 41.844436108714696],
   [-87.76794459775088, 41.8557885290831],
   [-88.1070127, 41.866140300000005],
   [-88.1070127, 41.8661403],
   [-88.11350115850259, 41.77330300067117],
   [-88.11997089653805, 41.68046433234409],
   [-88.12642202864761, 41.587624297606226],
   [-88.13285466852236, 41.49478289903914],
   [-88.13926892901168, 41.40194013921853],
   [-88.14566492213126, 41.30909602071451],
   [-88.152042759071, 41.216250546091686],
   [-88.15840255020282, 41.12340371790927],
   [-88.16474440508867, 41.03055553872133],
   [-88.1710684324881, 40.93770601107686],
   [-88.1773747403659, 40.84485513751996],
   [-88.1836634358996, 40.752002920589916],
   [-88.18993462548694, 40.659149362821495],
   [-88.19618841475331, 40.56629446674486],
   [-88.20242490855894, 40.47343823488591],
   [-88.20864421100607, 40.38058066976633],
   [-88.21484642544628, 40.287721773903684],
   [-88.22103165448728, 40.194861549811634],
   [-88.2272, 40.102000000000004]]},
 'Samuel Hurh': {"anchor":"left","color":"yellow",'path': [[-87.80284019999999, 42.0189191],
   [-87.81071906751338, 42.03282732955622],
   [-87.81860137743004, 42.04673499550887],
   [-87.82648713279873, 42.060642097359185],
   [-87.83437633667131, 42.07454863460795],
   [-87.84226899210273, 42.088454606755334],
   [-87.85016510215107, 42.102360013300995],
   [-87.85806466987745, 42.11626485374404],
   [-87.86596769834615, 42.13016912758309],
   [-87.87387419062458, 42.14407283431614],
   [-87.88178414978321, 42.15797597344073],
   [-87.88969757889566, 42.171878544453804],
   [-87.89761448103869, 42.185780546851795],
   [-87.90553485929215, 42.19968198013054],
   [-87.91345871673904, 42.21358284378542],
   [-87.92138605646552, 42.227483137311204],
   [-87.92931688156087, 42.24138286020212],
   [-87.93725119511748, 42.25528201195188],
   [-87.94518900023095, 42.269180592053644],
   [-87.9531303, 42.283078599999996],
   [-87.9531303, 42.2830786],
   [-87.96801937246646, 42.16831538879736],
   [-87.98285461799236, 42.053548716328116],
   [-87.99763644505657, 41.93877859775966],
   [-88.012365258374, 41.8240050481495],
   [-88.02704145894025, 41.70922808244696],
   [-88.04166544407563, 41.59444771549468],
   [-88.05623760746873, 41.47966396203016],
   [-88.0707583392192, 41.36487683668736],
   [-88.08522802587987, 41.250086353998135],
   [-88.09964705049867, 41.13529252839379],
   [-88.11401579265952, 41.020495374206504],
   [-88.12833462852281, 40.90569490567076],
   [-88.14260393086555, 40.7908911369248],
   [-88.15682406912069, 40.676084082012075],
   [-88.1709954094158, 40.5612737548825],
   [-88.18511831461178, 40.44646016939397],
   [-88.19919314434031, 40.331643339313594],
   [-88.21322025504139, 40.216823278319076],
   [-88.22720000000001, 40.102000000000004]]}};

  

    var line_feature={
      'type': 'Feature',
      'properties': {
        'color': null // red
      },
      'geometry': {
        'type': 'LineString',
        'coordinates': null
      }
    };
    line_feature=JSON.stringify(line_feature);
    var line_features={'type': 'geojson',
            'data': {
                'type': 'FeatureCollection',
                'features': [],
            },
        }



    var point_feature={
                    type: "Feature",
                    geometry: {
                        type: "Point",
                        coordinates: null,
                    },
                    properties: {
                        label: null,
                        color:null,
                        anchor:null
                    }
                };
    point_feature=JSON.stringify(point_feature);
    var point_features={
        type: "geojson",
            data: {
                type: 'FeatureCollection',
                features: [],
            },
        };
    point_feature_UIUC=JSON.parse(point_feature);

    point_feature_UIUC.geometry.coordinates=[-88.22720000000001, 40.102000000000004];
    point_feature_UIUC.properties={
      label:"UIUC",
      color:"#E84A27",
      size:50,
    }
    point_features.data.features.push(point_feature_UIUC);


    for (const [person,person_data] of Object.entries(data)) {
        //console.log(universities);
        var path=person_data.path;
        var color=person_data.color;
        var anchor=person_data.anchor;

        var line_feature_local=JSON.parse(line_feature);
        line_feature_local.geometry.coordinates=path;
        line_feature_local.properties={
          color:color,
          coordinates:path
        }
        line_features.data.features.push(line_feature_local);

        var point_feature_local=JSON.parse(point_feature);
        point_feature_local.geometry.coordinates=path[0];
        point_feature_local.properties={
          label:person,
          color:color,
          size:20,
          anchor:anchor
        }
        point_features.data.features.push(point_feature_local);
    }
    //console.log(JSON.stringify(point_layer));


map.on('load', function () {
    //map.addLayer(line_layer);
        map.addSource('lines',line_features);
        map.addLayer({
            'id': 'lines',
            'type': 'line',
            'source': 'lines',
            'paint': {
                'line-width': 7,
                // Use a get expression (https://docs.mapbox.com/mapbox-gl-js/style-spec/#expressions-get)
                // to set the line-color to a feature property value.
                'line-color': ['get', 'color']
            },
        });
    map.addSource('points',point_features);
    map.addLayer({
        id: "person",
        type: "symbol",
        source: "points",
        layout: {
            "text-field": "{label}",
            "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
            "text-anchor": ["get","anchor"],
            "text-size":['get', 'size'],
            "text-allow-overlap":false,
        },
        paint: {
            "text-color": ['get', 'color'],//#950011"
        }
      })

});
</script>

</body>
</html>